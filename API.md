API Functions description
=========================

| API Function | Description | Parameters | Outputs | Comment |
|---|---|---|---|---|
| pSnrCtx SingleEchosounderOpen(const char *portpath, uint32_t baudrate) | Initiate connection to single frequency echosounder | **portpath**     path to serial port<br>**baudrate**     serial port baudrate | Valid handle to futher using to manage the echosounder or<br>**NULL** in case of failure | |
| pSnrCtx DualEchosounderOpen(const char *portpath, uint32_t baudrate) | Initiate connection to single frequency echosounder | **portpath**     path to serial port<br>**baudrate**     serial port baudrate | Valid handle to futher using to manage the echosounder or<br>**NULL** in case of failure | |
| void EchosounderClose(pSnrCtx snrctx) | This function is used for close port, it does not change the running state of the echosounder | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | None | |
| size_t EchosounderReadData(pSnrCtx snrctx, uint8_t *buffer, size_t size) | Read raw data from the echosounder | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function<br>**buffer**       pointer for data buffer<br>**baudrate**     number of bytes to be read | Number of bytes read | This function should be used when echosounder is in the running state |
| int EchosounderGetValue(pSnrCtx snrctx, EchosounderCommandIds_t command, pEchosounderValue value) | Get value for the given parameter (command) | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function<br>**command**      parameter for which command should be obtained<br>**value**        value of given command | **0** - value is valid<br>**-1** - value is invalid | This function can be used in any state on the echosounder |
| int EchosounderSetValue(pSnrCtx snrctx, EchosounderCommandIds_t command, pcEchosounderValue value) | Set value for the given parameter (command) | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function<br>**command**      parameter for which command should be set<br>**value**        value of given command | **0**  - value is set successfully<br>**-1** - set value failed | This function can be used in any state on the echosounder |
| long EchosounderValueToLong(pcEchosounderValue value) | Convert value read from echosounder to long | **value**        Echosounder value to convert | Converted value | Helper function |
| float EchosounderValueToFloat(pcEchosounderValue value) | Convert value read from echosounder to float | **value**        Echosounder value to convert | Converted value | Helper function |
| const char *EchosounderValueToText(pcEchosounderValue value) | Convert value read from echosounder to null-terminated char* | **value**        Echosounder value to convert | Converted value | Helper function |
| bool IsValidEchosounderValue(pcEchosounderValue value) | Check whether echosounder value is valid | **value**        Echosounder value to check | **true** - value is valid<br>**false** - value is invalid | Helper function |
| void LongToEchosounderValue(long num, pEchosounderValue value) | Convert long number to echosounder value | **num**          Long number to convert<br>**value**        Converted value | None | Helper function |
| void FloatToEchosounderValue(float num, pEchosounderValue value) | Convert float number to echosounder value | **num**          Float number to convert<br>**value**        Converted value | None | Helper function |
| void EchosounderStart(pSnrCtx snrctx) | Start the unit | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | None | Echosounder will be in running state after this |
| void EchosounderStop(pSnrCtx snrctx) | Stop the unit | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | None | Echosounder will be in stop state after this |
| bool EchosounderIsRunning(pSnrCtx snrctx) | Checking the running state of the echosounder | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | **true** - echosounder in running state<br>**false** - echosounder is not in running state | Not affected the echosounder state |
| bool EchosounderIsDetected(pSnrCtx snrctx) | Checking whether echosounder is detected on serial port | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | **true** - echosounder is detected<br>**false** - echosounder is not detected | Not affected the echosounder state |
| bool EchosounderDetect(pSnrCtx snrctx) | Detect echosounder on serial port | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | **true** - echosounder is detected<br>**false** - echosounder is not detected | Echosounder will be in stop state after this |
| void EchosounderSetCurrentTime(pSnrCtx snrctx) | Set current time to the echosounder (UTC). It use current time from host PC | **snrctx**       Connection handle obtained by (Single\|Dual)EchosounderOpen function | None | It can be neccessary for sync NMEA output with GPS output |
